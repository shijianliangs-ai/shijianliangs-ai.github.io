<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>从 0 搭建 Clawdbot（Gateway + WebChat + Telegram/WhatsApp） - 壹零壹玖</title>
  <link rel="stylesheet" href="../styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <link rel="stylesheet" href="article-common.css" />
  
  <style>
  /* keep minimal here */
  
    .clawdbot-hero-bg {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      border-radius: 12px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }
    .clawdbot-hero-bg::before {
      content: '';
      position: absolute;
      inset: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120"><defs><pattern id="grid" width="16" height="16" patternUnits="userSpaceOnUse"><path d="M 16 0 L 0 0 0 16" fill="none" stroke="rgba(255,255,255,0.12)" stroke-width="1"/></pattern></defs><rect width="120" height="120" fill="url(%23grid)"/><path d="M20 78 C40 40, 70 110, 100 60" fill="none" stroke="rgba(255,255,255,0.22)" stroke-width="3"/></svg>');
      opacity: 0.9;
    }
  
  </style>
  <script>
    var _hmt = _hmt || [];
    (function () {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?013df7fb2265b625683fcd8b2d7ac17b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
</head>
<body>
  <div class="container">
    <nav class="navbar">
      <div class="container">
        <div class="nav-brand"><i class="fas fa-bug"></i><span>壹零壹玖</span></div>
        <ul class="nav-menu">
          <li><a href="../index.html#home" class="nav-link">首页</a></li>
          <li><a href="../index.html#articles" class="nav-link">文章</a></li>
          <li><a href="../index.html#about" class="nav-link">关于</a></li>
          <li><a href="../index.html#contact" class="nav-link">联系</a></li>
        </ul>
        <div class="hamburger"><span class="bar"></span><span class="bar"></span><span class="bar"></span></div>
      </div>
    </nav>

    
  <section class="article-page">
    <div class="container">
      <div class="article-layout">
        <aside class="article-toc">
          <div class="toc-header"><h3>目录</h3></div>
          <nav class="toc-nav"><ul id="toc-list"></ul></nav>
        </aside>

        <main class="article-main">
          <header class="article-header">
            <h1 class="article-title">从 0 搭建 Clawdbot（Gateway + WebChat + Telegram/WhatsApp）</h1>
            <div class="article-meta">
              <span class="article-category">AI测试</span>
              <span class="article-date">2026-01-29</span>
              <span class="article-date">8分钟阅读</span>
            </div>
            <p class="article-excerpt">手把手搭建 Clawdbot / Moltbot：安装、启动 Gateway、打开 Dashboard、用 WebChat 验证、接入 Telegram/WhatsApp，并附常见问题排查与安全建议。</p>
          </header>

          <article class="article-content">
            <div class="image-placeholder clawdbot-hero-bg" style="min-height: 280px; margin: 0 auto 2.2rem;"></div>
            <h2>1. Clawdbot 是什么？</h2>
<p>你可以把 Clawdbot 理解成“AI 助手的中控台（Gateway）”。Gateway 是一个常驻进程：它负责连接消息渠道（WebChat/Telegram/WhatsApp/Discord/iMessage 等），把消息转发给 AI Agent，再把 Agent 的回复发回去。</p>
<h2>2. 前置条件</h2>
<ul>
<li><strong>Node.js 22+</strong></li>
<li>一台电脑或服务器（macOS / Linux / Windows 推荐用 WSL2）</li>
<li>（可选）Telegram 机器人 Token，或 WhatsApp 手机用于扫码</li>
</ul>
<h2>3. 安装（推荐：npm 全局安装）</h2>
<pre><code class="language-bash">npm install -g moltbot@latest
# 或
pnpm add -g moltbot@latest

moltbot --version
</code></pre>
<p>说明：近期官方文档中项目名多以 <strong>Moltbot</strong> 命令体现，但它就是 Clawdbot 生态的一部分。本文沿用文档现状，以 <code>moltbot</code> 命令为准。</p>
<h2>4. 初始化（onboard）并安装后台服务</h2>
<pre><code class="language-bash">moltbot onboard --install-daemon
</code></pre>
<h2>5. 启动 Gateway &amp; 打开 Dashboard</h2>
<p>默认 Dashboard 地址（本机）：</p>
<ul>
<li><code>http://127.0.0.1:18789/</code></li>
<li><code>http://localhost:18789/</code></li>
</ul>
<p>手动启动（用于调试/未装 daemon）：</p>
<pre><code class="language-bash">moltbot gateway --port 18789
</code></pre>
<h2>6. 先用 WebChat 验证“能对话”</h2>
<p>打开 Dashboard → 进入会话（Session）→ 发一句“hello”验证链路。</p>
<h2>7. 接入 Telegram（推荐当作第一条真实渠道）</h2>
<h3>7.1 创建 Bot</h3>
<ol>
<li>Telegram 搜索 <strong>@BotFather</strong></li>
<li>发送 <code>/newbot</code> 创建机器人</li>
<li>拿到 Bot Token</li>
</ol>
<h3>7.2 写入配置并重启</h3>
<p>配置文件默认在：<code>~/.clawdbot/moltbot.json</code>。示例：</p>
<pre><code class="language-json">{
  &quot;channels&quot;: {
    &quot;telegram&quot;: {
      &quot;token&quot;: &quot;YOUR_BOT_TOKEN&quot;
    }
  }
}
</code></pre>
<h3>7.3 建议加白名单/提及触发</h3>
<ul>
<li>allowFrom：只允许你的账号</li>
<li>requireMention：群里只有 @ 机器人时才触发</li>
</ul>
<h2>8. 接入 WhatsApp（可选：需要扫码登录）</h2>
<pre><code class="language-bash">moltbot channels login
</code></pre>
<h2>9. 常见问题排查</h2>
<ul>
<li>Dashboard 打不开：检查 gateway 是否运行、端口是否占用</li>
<li>不回消息：先用 WebChat 验证、查看 gateway 日志</li>
<li>群聊太吵：启用仅提及触发、allowlist</li>
</ul>
<h2>参考链接</h2>
<ul>
<li>Clawdbot / Moltbot 文档：<a href="https://docs.clawd.bot">https://docs.clawd.bot</a></li>
<li>moltbot GitHub：<a href="https://github.com/moltbot/moltbot">https://github.com/moltbot/moltbot</a></li>
</ul>


            
    <h2 id="references">参考链接</h2>
    <div class="references">
      <ul><li>Clawdbot / Moltbot 文档： <a href="https://docs.clawd.bot" target="_blank" rel="noreferrer">https://docs.clawd.bot</a></li><li>moltbot GitHub： <a href="https://github.com/moltbot/moltbot" target="_blank" rel="noreferrer">https://github.com/moltbot/moltbot</a></li></ul>
    </div>
  
          </article>

          
  <div class="article-navigation">
    <span></span>
    <span></span>
  </div>
        </main>
      </div>
    </div>
  </section>

  <a href="index.html" class="back-to-articles"><i class="fas fa-arrow-left"></i> 返回目录</a>
  
  </div>

  <script>
    const hamburger = document.querySelector('.hamburger');
    const navMenu = document.querySelector('.nav-menu');
    if (hamburger && navMenu) {
      hamburger.addEventListener('click', () => {
        hamburger.classList.toggle('active');
        navMenu.classList.toggle('active');
      });
      document.querySelectorAll('.nav-link').forEach(n => n.addEventListener('click', () => {
        hamburger.classList.remove('active');
        navMenu.classList.remove('active');
      }));
    }
    
    const tocList = document.getElementById('toc-list');
    const headings = document.querySelectorAll('.article-content h2, .article-content h3');
    headings.forEach((h, i) => {
      if (!h.id) h.id = 'section-' + i;
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = '#' + h.id;
      a.textContent = h.textContent;
      a.className = (h.tagName.toLowerCase() === 'h3') ? 'toc-h3' : '';
      li.appendChild(a);
      tocList.appendChild(li);
    });
  
  </script>
</body>
</html>